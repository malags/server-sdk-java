/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.vapi.api.types;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.vapi.api.core.ObjectMappers;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = FallbackDeepgramTranscriber.Builder.class)
public final class FallbackDeepgramTranscriber {
    private final Optional<DeepgramTranscriberModel> model;

    private final Optional<DeepgramTranscriberLanguage> language;

    private final Optional<Boolean> smartFormat;

    private final Optional<Boolean> mipOptOut;

    private final Optional<Boolean> numerals;

    private final Optional<Double> confidenceThreshold;

    private final Optional<List<String>> keywords;

    private final Optional<List<String>> keyterm;

    private final Optional<Double> endpointing;

    private final Map<String, Object> additionalProperties;

    private FallbackDeepgramTranscriber(
            Optional<DeepgramTranscriberModel> model,
            Optional<DeepgramTranscriberLanguage> language,
            Optional<Boolean> smartFormat,
            Optional<Boolean> mipOptOut,
            Optional<Boolean> numerals,
            Optional<Double> confidenceThreshold,
            Optional<List<String>> keywords,
            Optional<List<String>> keyterm,
            Optional<Double> endpointing,
            Map<String, Object> additionalProperties) {
        this.model = model;
        this.language = language;
        this.smartFormat = smartFormat;
        this.mipOptOut = mipOptOut;
        this.numerals = numerals;
        this.confidenceThreshold = confidenceThreshold;
        this.keywords = keywords;
        this.keyterm = keyterm;
        this.endpointing = endpointing;
        this.additionalProperties = additionalProperties;
    }

    /**
     * @return This is the Deepgram model that will be used. A list of models can be found here: https://developers.deepgram.com/docs/models-languages-overview
     */
    @JsonProperty("model")
    public Optional<DeepgramTranscriberModel> getModel() {
        return model;
    }

    /**
     * @return This is the language that will be set for the transcription. The list of languages Deepgram supports can be found here: https://developers.deepgram.com/docs/models-languages-overview
     */
    @JsonProperty("language")
    public Optional<DeepgramTranscriberLanguage> getLanguage() {
        return language;
    }

    /**
     * @return This will be use smart format option provided by Deepgram. It's default disabled because it can sometimes format numbers as times but it's getting better.
     */
    @JsonProperty("smartFormat")
    public Optional<Boolean> getSmartFormat() {
        return smartFormat;
    }

    /**
     * @return If set to true, this will add mip_opt_out=true as a query parameter of all API requests. See https://developers.deepgram.com/docs/the-deepgram-model-improvement-partnership-program#want-to-opt-out
     * <p>This will only be used if you are using your own Deepgram API key.</p>
     * <p>@default false</p>
     */
    @JsonProperty("mipOptOut")
    public Optional<Boolean> getMipOptOut() {
        return mipOptOut;
    }

    /**
     * @return If set to true, this will cause deepgram to convert spoken numbers to literal numerals. For example, &quot;my phone number is nine-seven-two...&quot; would become &quot;my phone number is 972...&quot;
     * <p>@default false</p>
     */
    @JsonProperty("numerals")
    public Optional<Boolean> getNumerals() {
        return numerals;
    }

    /**
     * @return Transcripts below this confidence threshold will be discarded.
     * <p>@default 0.4</p>
     */
    @JsonProperty("confidenceThreshold")
    public Optional<Double> getConfidenceThreshold() {
        return confidenceThreshold;
    }

    /**
     * @return These keywords are passed to the transcription model to help it pick up use-case specific words. Anything that may not be a common word, like your company name, should be added here.
     */
    @JsonProperty("keywords")
    public Optional<List<String>> getKeywords() {
        return keywords;
    }

    /**
     * @return Keyterm Prompting allows you improve Keyword Recall Rate (KRR) for important keyterms or phrases up to 90%.
     */
    @JsonProperty("keyterm")
    public Optional<List<String>> getKeyterm() {
        return keyterm;
    }

    /**
     * @return This is the timeout after which Deepgram will send transcription on user silence. You can read in-depth documentation here: https://developers.deepgram.com/docs/endpointing.
     * <p>Here are the most important bits:</p>
     * <ul>
     * <li>Defaults to 10. This is recommended for most use cases to optimize for latency.</li>
     * <li>10 can cause some missing transcriptions since because of the shorter context. This mostly happens for one-word utterances. For those uses cases, it's recommended to try 300. It will add a bit of latency but the quality and reliability of the experience will be better.</li>
     * <li>If neither 10 nor 300 work, contact support@vapi.ai and we'll find another solution.</li>
     * </ul>
     * <p>@default 10</p>
     */
    @JsonProperty("endpointing")
    public Optional<Double> getEndpointing() {
        return endpointing;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof FallbackDeepgramTranscriber && equalTo((FallbackDeepgramTranscriber) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(FallbackDeepgramTranscriber other) {
        return model.equals(other.model)
                && language.equals(other.language)
                && smartFormat.equals(other.smartFormat)
                && mipOptOut.equals(other.mipOptOut)
                && numerals.equals(other.numerals)
                && confidenceThreshold.equals(other.confidenceThreshold)
                && keywords.equals(other.keywords)
                && keyterm.equals(other.keyterm)
                && endpointing.equals(other.endpointing);
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(
                this.model,
                this.language,
                this.smartFormat,
                this.mipOptOut,
                this.numerals,
                this.confidenceThreshold,
                this.keywords,
                this.keyterm,
                this.endpointing);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static Builder builder() {
        return new Builder();
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder {
        private Optional<DeepgramTranscriberModel> model = Optional.empty();

        private Optional<DeepgramTranscriberLanguage> language = Optional.empty();

        private Optional<Boolean> smartFormat = Optional.empty();

        private Optional<Boolean> mipOptOut = Optional.empty();

        private Optional<Boolean> numerals = Optional.empty();

        private Optional<Double> confidenceThreshold = Optional.empty();

        private Optional<List<String>> keywords = Optional.empty();

        private Optional<List<String>> keyterm = Optional.empty();

        private Optional<Double> endpointing = Optional.empty();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        public Builder from(FallbackDeepgramTranscriber other) {
            model(other.getModel());
            language(other.getLanguage());
            smartFormat(other.getSmartFormat());
            mipOptOut(other.getMipOptOut());
            numerals(other.getNumerals());
            confidenceThreshold(other.getConfidenceThreshold());
            keywords(other.getKeywords());
            keyterm(other.getKeyterm());
            endpointing(other.getEndpointing());
            return this;
        }

        /**
         * <p>This is the Deepgram model that will be used. A list of models can be found here: https://developers.deepgram.com/docs/models-languages-overview</p>
         */
        @JsonSetter(value = "model", nulls = Nulls.SKIP)
        public Builder model(Optional<DeepgramTranscriberModel> model) {
            this.model = model;
            return this;
        }

        public Builder model(DeepgramTranscriberModel model) {
            this.model = Optional.ofNullable(model);
            return this;
        }

        /**
         * <p>This is the language that will be set for the transcription. The list of languages Deepgram supports can be found here: https://developers.deepgram.com/docs/models-languages-overview</p>
         */
        @JsonSetter(value = "language", nulls = Nulls.SKIP)
        public Builder language(Optional<DeepgramTranscriberLanguage> language) {
            this.language = language;
            return this;
        }

        public Builder language(DeepgramTranscriberLanguage language) {
            this.language = Optional.ofNullable(language);
            return this;
        }

        /**
         * <p>This will be use smart format option provided by Deepgram. It's default disabled because it can sometimes format numbers as times but it's getting better.</p>
         */
        @JsonSetter(value = "smartFormat", nulls = Nulls.SKIP)
        public Builder smartFormat(Optional<Boolean> smartFormat) {
            this.smartFormat = smartFormat;
            return this;
        }

        public Builder smartFormat(Boolean smartFormat) {
            this.smartFormat = Optional.ofNullable(smartFormat);
            return this;
        }

        /**
         * <p>If set to true, this will add mip_opt_out=true as a query parameter of all API requests. See https://developers.deepgram.com/docs/the-deepgram-model-improvement-partnership-program#want-to-opt-out</p>
         * <p>This will only be used if you are using your own Deepgram API key.</p>
         * <p>@default false</p>
         */
        @JsonSetter(value = "mipOptOut", nulls = Nulls.SKIP)
        public Builder mipOptOut(Optional<Boolean> mipOptOut) {
            this.mipOptOut = mipOptOut;
            return this;
        }

        public Builder mipOptOut(Boolean mipOptOut) {
            this.mipOptOut = Optional.ofNullable(mipOptOut);
            return this;
        }

        /**
         * <p>If set to true, this will cause deepgram to convert spoken numbers to literal numerals. For example, &quot;my phone number is nine-seven-two...&quot; would become &quot;my phone number is 972...&quot;</p>
         * <p>@default false</p>
         */
        @JsonSetter(value = "numerals", nulls = Nulls.SKIP)
        public Builder numerals(Optional<Boolean> numerals) {
            this.numerals = numerals;
            return this;
        }

        public Builder numerals(Boolean numerals) {
            this.numerals = Optional.ofNullable(numerals);
            return this;
        }

        /**
         * <p>Transcripts below this confidence threshold will be discarded.</p>
         * <p>@default 0.4</p>
         */
        @JsonSetter(value = "confidenceThreshold", nulls = Nulls.SKIP)
        public Builder confidenceThreshold(Optional<Double> confidenceThreshold) {
            this.confidenceThreshold = confidenceThreshold;
            return this;
        }

        public Builder confidenceThreshold(Double confidenceThreshold) {
            this.confidenceThreshold = Optional.ofNullable(confidenceThreshold);
            return this;
        }

        /**
         * <p>These keywords are passed to the transcription model to help it pick up use-case specific words. Anything that may not be a common word, like your company name, should be added here.</p>
         */
        @JsonSetter(value = "keywords", nulls = Nulls.SKIP)
        public Builder keywords(Optional<List<String>> keywords) {
            this.keywords = keywords;
            return this;
        }

        public Builder keywords(List<String> keywords) {
            this.keywords = Optional.ofNullable(keywords);
            return this;
        }

        /**
         * <p>Keyterm Prompting allows you improve Keyword Recall Rate (KRR) for important keyterms or phrases up to 90%.</p>
         */
        @JsonSetter(value = "keyterm", nulls = Nulls.SKIP)
        public Builder keyterm(Optional<List<String>> keyterm) {
            this.keyterm = keyterm;
            return this;
        }

        public Builder keyterm(List<String> keyterm) {
            this.keyterm = Optional.ofNullable(keyterm);
            return this;
        }

        /**
         * <p>This is the timeout after which Deepgram will send transcription on user silence. You can read in-depth documentation here: https://developers.deepgram.com/docs/endpointing.</p>
         * <p>Here are the most important bits:</p>
         * <ul>
         * <li>Defaults to 10. This is recommended for most use cases to optimize for latency.</li>
         * <li>10 can cause some missing transcriptions since because of the shorter context. This mostly happens for one-word utterances. For those uses cases, it's recommended to try 300. It will add a bit of latency but the quality and reliability of the experience will be better.</li>
         * <li>If neither 10 nor 300 work, contact support@vapi.ai and we'll find another solution.</li>
         * </ul>
         * <p>@default 10</p>
         */
        @JsonSetter(value = "endpointing", nulls = Nulls.SKIP)
        public Builder endpointing(Optional<Double> endpointing) {
            this.endpointing = endpointing;
            return this;
        }

        public Builder endpointing(Double endpointing) {
            this.endpointing = Optional.ofNullable(endpointing);
            return this;
        }

        public FallbackDeepgramTranscriber build() {
            return new FallbackDeepgramTranscriber(
                    model,
                    language,
                    smartFormat,
                    mipOptOut,
                    numerals,
                    confidenceThreshold,
                    keywords,
                    keyterm,
                    endpointing,
                    additionalProperties);
        }
    }
}
